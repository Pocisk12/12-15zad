<html>
	<head>
		<meta charset="utf-8">
		<style>
			html, body {
				height: 100%;
				margin: 0;
				overflow-y: auto;
			}

			.t {
				display: flex;
				justify-content: space-between;
				flex-wrap: wrap;
			}

			#counter {
				border: 3px solid yellow;
				padding: 5px;
				font-size: 20px;
				font-weight: bold;
				display: inline-block;
			}

			.image-rotator img {
				border: 3px solid yellow;
			}

			.form-container {
				display: flex;
				align-items: flex-start;
				margin-bottom: 10px;
			}

			.form-container label {
				margin-right: 8px;
				font-size: 14px;
			}

			.form-container input, .form-container textarea, .form-container button {
				margin-left: 10px;
				font-size: 14px;
				padding: 5px;
			}

			textarea {
				width: 120px;
				height: 25px;
			}

			input {
				width: 120px;
				height: 25px;
			}

			button {
				font-size: 14px;
			}

			#guestbookMessages {
				width: 320px; /* Szerokość kontenera */
				max-height: 200px; /* Maksymalna wysokość kontenera */
				overflow-y: auto; /* Włącza pasek przewijania, gdy treść przekroczy wysokość */
				border: 1px solid #ccc; /* Obramowanie kontenera */
				padding: 10px;
				margin-top: 10px;
			}

			footer {
				text-align: center;
				padding: 10px 0;
				background-color: #f1f1f1;
			}
		</style>
	</head>
	<body>
		<div class="t">
			<!-- Księga Gości -->
			<div align="left">
				<h3>Księga Gości&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Statystyka:</h2>
				<form action="/submit-guestbook" method="POST" id="guestbookForm">
					<div class="form-container">
						<label for="name">Imię:</label>
						<input type="text" id="name" name="name" required>
						
						<label for="message">Wiadomość:</label>
						<textarea id="message" name="message" required></textarea>

						<!-- Przycisk wysyłania wiadomości -->
						<button type="button" onclick="sendMessage()">Wyślij</button>
					</div>
				</form>

				<h4>Ostatnie wiadomości:</h4>
				<div id="guestbookMessages"></div>

				<script>
					function sendMessage() {
						const name = document.getElementById('name').value;
						const message = document.getElementById('message').value;
						const guestbookMessages = document.getElementById('guestbookMessages');

						// Walidacja formularza
						if (name && message) {
							const newMessage = document.createElement('p');
							newMessage.textContent = `${name}: ${message}`;
							guestbookMessages.appendChild(newMessage);

							// Przewijanie do dołu po dodaniu wiadomości
							guestbookMessages.scrollTop = guestbookMessages.scrollHeight;

							// Czyszczenie formularza
							document.getElementById('name').value = '';
							document.getElementById('message').value = '';
						} else {
							alert("Proszę uzupełnić oba pola!");
						}
					}
				</script>
			</div>

			<!-- Statystyka -->
			<h5><u>http://www.counterliczniki.com</u></h5>
			<div>
			<a href="http://www.counterliczniki.com">http://www.counterliczniki.com</a> <script type='text/javascript' src='https://www.counterliczniki.com/auth.php?id=bc29e527ee2cf5718d85d378f610610904a105f9'>
			</script>
			<script type="text/javascript" src="https://www.counterliczniki.com/pl/home/counter/1291645/t/8">
			</script>
			</div>

			<!-- Licznik odwiedzin -->
			<div>
				<h2 align="center">Liczba odwiedzin: <span id="counter">8</span></h2>
				<!--<button onclick="resetCounter()">Resetuj licznik</button>-->

				<script>
					let count = localStorage.getItem('counter') ? parseInt(localStorage.getItem('counter')) : 0;
					count++;
					localStorage.setItem('counter', count);
					document.getElementById('counter').textContent = count;

					// Funkcja resetująca licznik do wartości 8
					function resetCounter() {
						localStorage.setItem('counter', 8); // Ustawienie licznika na 8
						document.getElementById('counter').textContent = 8;
					}
				</script>
			</div>

				</script>
			</div>
		</div>

		<footer>
			<!-- Stopka -->
			<h2 align="center">Stopka-Korol</h2>
			<h2 align="center">Gdańsk, 18.01.2025</h2>
		</footer>

	</body>
</html>